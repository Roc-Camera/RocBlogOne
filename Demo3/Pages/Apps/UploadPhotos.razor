@page "/upload"
@inject IMessageService _message
<style scoped>
    /* you can make up upload button and sample style by using stylesheets */
    .ant-upload-select-picture-card i {
        color: #999;
        font-size: 32px;
    }

    .ant-upload-select-picture-card .ant-upload-text {
        margin-top: 8px;
        color: #666;
    }
</style>
<div class="main">
    <Upload Action="https://www.mocky.io/v2/5cc8019d300000980a055e76"
            Name="avatar"
            @bind-FileList="fileList"
            ShowButton="fileList?.Count < 8"
            ListType="picture-card"
            OnPreview="(file)=> {
                           Console.WriteLine(file.FileName);
                           Console.WriteLine(file.Url);
                           previewVisible = true;
                           previewTitle = file.FileName;
                           imgUrl = file.Url;
                       }"
            OnChange="HandleChange">
        <div>
            <Icon Type="plus"></Icon>
            <div className="ant-upload-text">Upload</div>
        </div>

    </Upload>
    <Modal Visible="previewVisible"
           Title="previewTitle"
           OnCancel="()=> previewVisible=false">
        <img style="width: 100%" src="@imgUrl" />
    </Modal>
</div>

@code {

}
